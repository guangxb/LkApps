//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由T4模板自动生成
//	   生成时间 2012-12-07 20:55:47 by App
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

using System;
using System.Linq;
using Apps.Models;
using System.Data;

namespace Apps.Repository.Sys
{
    public partial class SysUserConfigRepository
    {
        public SysUserConfig GetById(string type, string userId)
        {
           
            return Context.SysUserConfig.SingleOrDefault(a => a.Type == type && a.UserId == userId);

        }

        public bool ModifyBySql(SysUserConfig model)
        {
            string sql = string.Format("update SysUserConfig set value='{0}' where Id='{1}' and UserId='{2}'", model.Value, model.Id, model.UserId);
            return ExecuteSqlCommand(sql) > 0;
        }

        public bool CreateBySql(SysUserConfig model)
        {
            string sql = string.Format("INSERT INTO [AppsDB].[dbo].[SysUserConfig]([Id],[Name],[Value],[Type],[State],[UserId]) VALUES('{0}','{1}','{2}','{3}',{4},'{5}')", model.Id, model.Name, model.Value, model.Type, 1, model.UserId);
            return ExecuteSqlCommand(sql) > 0;
        }
    }
}
